spring.application.name=bitly

# Bind to Render's injected $PORT
server.port=${PORT:8080}

# Database (read from environment variables you'll set in Render)
spring.datasource.url=${SPRING_DATASOURCE_URL}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}

# Hibernate/JPA
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.sql.init.mode=never

# Keep pool tiny on free tiers
spring.datasource.hikari.maximum-pool-size=2

# Valkey (Redis-compatible on Render)
spring.data.redis.url=${SPRING_DATA_REDIS_URL}
spring.data.redis.timeout=${SPRING_DATA_REDIS_TIMEOUT:2000}
spring.data.redis.client-type=lettuce
spring.data.redis.ssl.enabled=true

# light pool settings for small tiers (optional but recommended)
spring.data.redis.lettuce.pool.enabled=true
spring.data.redis.lettuce.pool.max-active=5
spring.data.redis.lettuce.pool.max-idle=2
spring.data.redis.lettuce.pool.min-idle=0
spring.data.redis.lettuce.pool.time-between-eviction-runs=60s



